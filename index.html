<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Timeline | Dynamic Content</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css">

  <style type="text/css">
    .progress-wrapper {
      background: white;
      width: 100%;
      height: 18px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      width: 60%;
      position: absolute;
      left: 0px;
      top: 0px;
      background: #63ed63;
    }

    .progress-label {
      position: absolute;
      z-index: 1;
    }
  </style>
</head>

<body>

  <div id="ordersProgression"></div>

  <script type="text/javascript">
    // DOM element where the Timeline will be attached
    var container = document.getElementById('ordersProgression');

    // Create a DataSet (allows two way data-binding)
    var items = new vis.DataSet([
      { id: 1, progression: 2157, total: 2157, content: '<a href="https://cmro.travis-starnes.com/golden_list.php" target="_blank">Golden Age</a>', start: '1939-01-01', end: '1961-01-01' },
      { id: 2, progression: 24984, total: 27000, content: '<a href="https://cmro.travis-starnes.com/list.php" target="_blank">Main 616</a>', start: '1961-01-01', end: '2018-01-01' },
      { id: 3, progression: 189, total: 189, content: '<a href="https://cmro.travis-starnes.com/wwii_list.php" target="_blank">Silver Age WWII</a>', start: '1963-01-01', end: '1979-01-01' },
      { id: 4, progression: 1954, total: 2000, content: '<a href="https://cmro.travis-starnes.com/western_list.php" target="_blank">Western</a>', start: '1948-01-01', end: '1975-01-01' },
      { id: 5, progression: 5149, total: 5160, content: '<a href="https://cmro.travis-starnes.com/romance_list.php" target="_blank">Romance/Teen</a>', start: '1942-01-01', end: '1971-01-01' },
      { id: 6, progression: 26, total: 733, content: '<a href="https://cmro.travis-starnes.com/hyborian_list.php" target="_blank">Hyborian Age</a>', start: '1970-01-01', end: '2000-01-01' },
      { id: 7, progression: 764, total: 764, content: '<a href="https://cmro.travis-starnes.com/ultimate_list.php" target="_blank">Ultimate</a>', start: '2000-01-01', end: '2015-01-01' },
      { id: 8, progression: 12570, total: 30000, content: '<a href="https://cmro.travis-starnes.com/complete_list.php" target="_blank">Expanded</a>', start: '1939-01-01', end: '2018-01-01' },
    ]);

    // Configuration for the Timeline
    var options = {
      visibleFrameTemplate: function (item) {
        var percentage = (item.progression / item.total) * 100 + '%';
        return '<div class="progress-wrapper"><div class="progress" style="width:' + percentage + '"></div><label class="progress-label">' + percentage + ' Total stories: ' + item.total + '<label></div>';
      }
    };

    // Create a Timeline
    var timeline = new vis.Timeline(container, items, options);
  </script>

</body>

</html>
